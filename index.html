{\rtf1\ansi\ansicpg1252\cocoartf2821
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!DOCTYPE html>\
<html lang="en">\
<head>\
    <meta charset="UTF-8">\
    <meta name="viewport" content="width=device-width, initial-scale=1.0">\
    <title>DeepSleep AI Chat</title>\
    <style>\
        body, html \{\
            margin: 0;\
            padding: 0;\
            height: 100%;\
            font-family: 'Arial', sans-serif;\
            background-color: #f5f8fa;\
        \}\
        .chat-container \{\
            display: flex;\
            flex-direction: column;\
            height: 100vh;\
            max-width: 800px;\
            margin: 0 auto;\
            padding: 0;\
            box-sizing: border-box;\
        \}\
        .chat-header \{\
            background-color: #2c3e50;\
            color: white;\
            padding: 15px;\
            text-align: center;\
            border-radius: 8px 8px 0 0;\
        \}\
        .chat-messages \{\
            flex: 1;\
            overflow-y: auto;\
            padding: 15px;\
            background-color: white;\
            border-left: 1px solid #ddd;\
            border-right: 1px solid #ddd;\
        \}\
        .message \{\
            margin-bottom: 15px;\
            padding: 12px 16px;\
            border-radius: 18px;\
            max-width: 80%;\
            line-height: 1.4;\
            position: relative;\
            word-wrap: break-word;\
        \}\
        .user-message \{\
            background-color: #e3f2fd;\
            margin-left: auto;\
            border-bottom-right-radius: 5px;\
        \}\
        .ai-message \{\
            background-color: #f1f1f1;\
            margin-right: auto;\
            border-bottom-left-radius: 5px;\
        \}\
        .chat-input-area \{\
            display: flex;\
            padding: 12px;\
            background-color: #ecf0f1;\
            border-radius: 0 0 8px 8px;\
            border: 1px solid #ddd;\
            border-top: none;\
        \}\
        #user-input \{\
            flex: 1;\
            padding: 12px 16px;\
            border: 1px solid #bdc3c7;\
            border-radius: 20px;\
            outline: none;\
            font-size: 14px;\
            resize: none;\
        \}\
        #send-button \{\
            background-color: #2c3e50;\
            color: white;\
            border: none;\
            padding: 0 24px;\
            margin-left: 10px;\
            border-radius: 20px;\
            cursor: pointer;\
            transition: background-color 0.3s;\
        \}\
        #send-button:hover \{\
            background-color: #1a252f;\
        \}\
        #send-button:disabled \{\
            background-color: #95a5a6;\
            cursor: not-allowed;\
        \}\
        .typing-indicator \{\
            display: none;\
            color: #7f8c8d;\
            font-style: italic;\
            padding: 8px 16px;\
            margin-bottom: 15px;\
        \}\
        .error-message \{\
            color: #e74c3c;\
            text-align: center;\
            padding: 8px;\
            font-size: 13px;\
        \}\
        .timestamp \{\
            font-size: 0.7em;\
            color: #95a5a6;\
            margin-top: 4px;\
            text-align: right;\
        \}\
    </style>\
</head>\
<body>\
    <div class="chat-container">\
        <div class="chat-header">\
            <h2>DeepSleep AI Assistant</h2>\
        </div>\
        <div id="connection-status" class="error-message"></div>\
        <div class="chat-messages" id="chat-messages">\
            <div class="message ai-message">\
                Hello! I'm your DeepSleep AI assistant powered by DeepSeek API. How can I help you today?\
                <div class="timestamp">Just now</div>\
            </div>\
            <div id="typing-indicator" class="typing-indicator">\
                <span class="typing-dots">\
                    <span>.</span><span>.</span><span>.</span>\
                </span>\
            </div>\
        </div>\
        <div class="chat-input-area">\
            <textarea id="user-input" placeholder="Type your message..." rows="1"></textarea>\
            <button id="send-button" onclick="sendMessage()">Send</button>\
        </div>\
    </div>\
\
    <script>\
        // Configuration\
        const API_KEY = "sk-ca1b7fee42364f078af088e0a68bbb61";\
        const API_URL = "https://api.deepseek.com/v1/chat/completions";\
        \
        // DOM Elements\
        const chatMessages = document.getElementById('chat-messages');\
        const userInput = document.getElementById('user-input');\
        const sendButton = document.getElementById('send-button');\
        const typingIndicator = document.getElementById('typing-indicator');\
        const connectionStatus = document.getElementById('connection-status');\
\
        // Auto-resize textarea\
        userInput.addEventListener('input', function() \{\
            this.style.height = 'auto';\
            this.style.height = (this.scrollHeight) + 'px';\
        \});\
\
        // Send message on Enter (but allow Shift+Enter for new lines)\
        userInput.addEventListener('keydown', function(e) \{\
            if (e.key === 'Enter' && !e.shiftKey) \{\
                e.preventDefault();\
                sendMessage();\
            \}\
        \});\
\
        function getCurrentTime() \{\
            return new Date().toLocaleTimeString([], \{ hour: '2-digit', minute: '2-digit' \});\
        \}\
\
        async function sendMessage() \{\
            const message = userInput.value.trim();\
            if (!message) return;\
\
            // Add user message to chat\
            addMessage(message, 'user');\
            userInput.value = '';\
            userInput.style.height = 'auto';\
            sendButton.disabled = true;\
            \
            // Show typing indicator\
            typingIndicator.style.display = 'block';\
            chatMessages.scrollTop = chatMessages.scrollHeight;\
\
            try \{\
                const response = await fetch(API_URL, \{\
                    method: 'POST',\
                    headers: \{\
                        'Content-Type': 'application/json',\
                        'Authorization': `Bearer $\{API_KEY\}`\
                    \},\
                    body: JSON.stringify(\{\
                        model: "deepseek-chat",\
                        messages: [\
                            \{\
                                role: "system",\
                                content: "You are a helpful AI assistant. Respond concisely."\
                            \},\
                            \{\
                                role: "user",\
                                content: message\
                            \}\
                        ],\
                        temperature: 0.7,\
                        max_tokens: 1000\
                    \})\
                \});\
\
                if (!response.ok) \{\
                    throw new Error(`API error: $\{response.status\}`);\
                \}\
\
                const data = await response.json();\
                const aiResponse = data.choices[0].message.content;\
                \
                // Add AI response\
                typingIndicator.style.display = 'none';\
                addMessage(aiResponse, 'ai');\
                connectionStatus.textContent = '';\
\
            \} catch (error) \{\
                console.error('API Error:', error);\
                typingIndicator.style.display = 'none';\
                connectionStatus.textContent = 'Connection error - try refreshing the page';\
                addMessage("Sorry, I'm having trouble connecting to the AI service.", 'ai');\
            \} finally \{\
                sendButton.disabled = false;\
                userInput.focus();\
            \}\
        \}\
\
        function addMessage(content, sender) \{\
            const messageDiv = document.createElement('div');\
            messageDiv.classList.add('message');\
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'ai-message');\
            messageDiv.innerHTML = `$\{content\}<div class="timestamp">$\{getCurrentTime()\}</div>`;\
            \
            chatMessages.insertBefore(messageDiv, typingIndicator);\
            chatMessages.scrollTop = chatMessages.scrollHeight;\
        \}\
\
        // Initial connection check\
        window.addEventListener('load', () => \{\
            connectionStatus.textContent = 'Connected to DeepSeek API';\
            setTimeout(() => connectionStatus.textContent = '', 3000);\
        \});\
    </script>\
</body>\
</html>}